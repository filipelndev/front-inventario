<mat-toolbar>
  <button mat-icon-button class="backButton" matTooltip="Voltar" (click)="voltarParaUsuarios()">
    <mat-icon>arrow_back</mat-icon>
  </button>
</mat-toolbar>

<div class="container">
  <h2>Cadastrar Usuário</h2>

  <!-- Inputs para o usuário -->
  <mat-form-field class="custom-width">
    <label>Username:</label>
    <input matInput [(ngModel)]="usuario.username" />
  </mat-form-field>

  <mat-form-field class="custom-width">
    <label>Password:</label>
    <input matInput [(ngModel)]="usuario.password" type="password" />
  </mat-form-field>

  <mat-form-field class="custom-width">
    <label>E-mail:</label>
    <input matInput [(ngModel)]="usuario.email" type="email" />
  </mat-form-field>

  <!-- Grupos disponíveis -->
  <h2>Lista de Grupos</h2>
  <mat-table [dataSource]="gruposDisponiveis" class="mat-elevation-z8">

    <ng-container matColumnDef="id">
      <mat-header-cell *matHeaderCellDef class="custom-width">ID</mat-header-cell>
      <mat-cell *matCellDef="let grupo" class="custom-width">{{ grupo.id }}</mat-cell>
    </ng-container>

    <ng-container matColumnDef="nome">
      <mat-header-cell *matHeaderCellDef class="custom-width">Nome</mat-header-cell>
      <mat-cell *matCellDef="let grupo" class="custom-width">{{ grupo.nome }}</mat-cell>
    </ng-container>

    <ng-container matColumnDef="selecionar">
      <mat-header-cell *matHeaderCellDef class="custom-width">
        <mat-checkbox (change)="selecionarTodos($event.checked)">Selecionar Todos</mat-checkbox>
      </mat-header-cell>
      <mat-cell *matCellDef="let grupo" class="custom-width">
        <mat-checkbox (change)="toggleSelecaoCheckbox(grupo)" [checked]="estaSelecionado(grupo)"></mat-checkbox>
      </mat-cell>
    </ng-container>

    <mat-header-row *matHeaderRowDef="['id', 'nome', 'selecionar']"></mat-header-row>
    <mat-row *matRowDef="let row; columns: ['id', 'nome', 'selecionar'];" class="grupo-row" [ngClass]="{'selecionado': estaSelecionado(row)}"></mat-row>
  </mat-table>

  <div class="space">
  <button class="createButton" matTooltip="Cadastrar" (click)="cadastrarUsuario()">Cadastrar Usuário</button>
  </div>
</div>
